import{_ as n,c as a,d as e,o as p}from"./app-D0nt0rSp.js";const l={};function t(i,s){return p(),a("div",null,s[0]||(s[0]=[e(`<h1 id="plugin" tabindex="-1"><a class="header-anchor" href="#plugin"><span>Plugin</span></a></h1><h2 id="处理html资源" tabindex="-1"><a class="header-anchor" href="#处理html资源"><span>处理html资源</span></a></h2><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line"><span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span></span>
<span class="line">  <span class="token keyword">new</span> <span class="token class-name">HtmlWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span></span>
<span class="line">    <span class="token comment">// 模版：以public/index.html文件创建的html文件</span></span>
<span class="line">    <span class="token comment">// 新的html文件特点：1.结构和原来的一致 2.自动引入打包输出的资源</span></span>
<span class="line">    <span class="token literal-property property">template</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&quot;public/index.html&quot;</span><span class="token punctuation">)</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">]</span><span class="token punctuation">,</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="提取css成单独文件" tabindex="-1"><a class="header-anchor" href="#提取css成单独文件"><span>提取CSS成单独文件</span></a></h2><p>CSS文件目前被打包到js文件中，当js文件加载时，会创建一个style标签来生成样式，这样对网站来说，会出现闪屏现象，用户体验不好，应该提取出单独的css文件，通过link标签加载性能才会更好</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line"><span class="token comment">// 安装</span></span>
<span class="line">npm install <span class="token operator">--</span>save<span class="token operator">-</span>dev mini<span class="token operator">-</span>css<span class="token operator">-</span>extract<span class="token operator">-</span>plugin</span>
<span class="line"></span>
<span class="line"><span class="token comment">// webpack.prod.js中</span></span>
<span class="line"><span class="token keyword">const</span> MiniCssExtractPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;mini-css-extract-plugin&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// 修改loader -- 将 style-loader 都替换成 MiniCssExtractPlugin.loader</span></span>
<span class="line"><span class="token punctuation">{</span></span>
<span class="line">  <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\\.css$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span> <span class="token comment">// 只检测 .css 文件</span></span>
<span class="line">  <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token punctuation">[</span></span>
<span class="line">    <span class="token comment">// 执行顺序，从右到左（从下到上）</span></span>
<span class="line">    MiniCssExtractPlugin<span class="token punctuation">.</span>loader<span class="token punctuation">,</span> <span class="token comment">// 提取css成单独的文件</span></span>
<span class="line">    <span class="token string">&#39;css-loader&#39;</span> <span class="token comment">// 将css资源编译成commonjs的模块到js中</span></span>
<span class="line">  <span class="token punctuation">]</span><span class="token punctuation">,</span> </span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// plugins</span></span>
<span class="line"><span class="token keyword">new</span> <span class="token class-name">MiniCssExtractPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span></span>
<span class="line">    <span class="token literal-property property">filename</span><span class="token operator">:</span> <span class="token string">&#39;static/css/main.css&#39;</span> <span class="token comment">// css文件输出目录</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="css压缩" tabindex="-1"><a class="header-anchor" href="#css压缩"><span>CSS压缩</span></a></h2><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line"><span class="token comment">// 安装</span></span>
<span class="line">npm install css<span class="token operator">-</span>minimizer<span class="token operator">-</span>webpack<span class="token operator">-</span>plugin <span class="token operator">--</span>save<span class="token operator">-</span>dev</span>
<span class="line"></span>
<span class="line"><span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token keyword">new</span> <span class="token class-name">MiniCssExtractPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,8)]))}const o=n(l,[["render",t],["__file","plugin.html.vue"]]),r=JSON.parse('{"path":"/zh/engineer/webpack/plugin.html","title":"Plugin","lang":"en-US","frontmatter":{},"headers":[{"level":2,"title":"处理html资源","slug":"处理html资源","link":"#处理html资源","children":[]},{"level":2,"title":"提取CSS成单独文件","slug":"提取css成单独文件","link":"#提取css成单独文件","children":[]},{"level":2,"title":"CSS压缩","slug":"css压缩","link":"#css压缩","children":[]}],"git":{"updatedTime":1736844408000,"contributors":[{"name":"zhan_zhang","username":"zhan_zhang","email":"18311292602@163.com","commits":2,"url":"https://github.com/zhan_zhang"}]},"filePathRelative":"zh/engineer/webpack/plugin.md"}');export{o as comp,r as data};
